

= How do I rebuild GHC after updating or changing it? =

To pull new changes:

{{{
$ ./darcs-all pull
$ ./darcs-all get
}}}

(the second step is required in the event that new packages or repositories have been added to GHC).

After pulling changes, the following sequence should be enough to update your build:

{{{
$ sh boot
$ ./configure
$ make
}}}

Don't forget to add any necessary flags to `./configure` if you need them.

== Things that might go wrong ==

 * If you add or remove modules from GHC, make sure you edit `ghc.cabal.in`; see [wiki:Commentary/SourceTree]

 * When files move around in the tree, this procedure will leave old files lying around.  The build system typically won't know how to clean up the old files.  Usually they won't cause a problem, but in the event that they do it's easy enough to wipe your build tree and start afresh, especially if you use [wiki:Building/Using#Sourcetreesandbuildtrees a separate build tree].
