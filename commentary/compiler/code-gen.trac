= Code Generator =

This page describes code generator ("codegen") in GHC. It is meant to reflect current state of the implementation. If you notice any inaccuracies please update the page (if you know how) or complain on ghc-devs.

* [wiki:Commentary/Compiler/CodeGen/Overview Overview of the code generator]

* [wiki:Commentary/Compiler/GeneratedCode The STG language and how to execute it]


== A brief history of code generator ==

You might occasionally hear about "old" and "new" code generator. GHC 7.6 and earlier used the old code generator. New code generator was being developed since 2007 and it was [changeset:832077ca5393d298324cb6b0a2cb501e27209768/ghc enabled by default on 31 August 2012] after the release of GHC 7.6.1. The first stable GHC to use the new code generator is 7.8.1 released in early 2014. The commentary on the old code generator can be found [wiki:Commentary/Compiler/OldCodeGen here]. Notes from the development process of the new code generator are located in a couple of pages on the wiki - to find them go to [wiki:TitleIndex Index] and look for pages starting with "!NewCodeGen".

 It is hard to say if this will ever happen as currently there is no work being done on that subject and in the meanwhile there was an alternative proposal to [wiki:Commentary/Compiler/Backends/LLVM/ReplacingNCG replace native code generator with LLVM].


Various historical pages, with still-useful info:

* [wiki:Commentary/Compiler/NewCodeGen Status page on the "new code generator"] (now the current one)

* [wiki:Commentary/Compiler/NewCodeGen/Cleanup Clean-up ides once the new codegen is in place (i.e. now)]; not all done.

* [wiki:Commentary/Compiler/Backends/LLVM/ReplacingNCG replace native code generator with LLVM]

* [wiki:Commentary/Compiler/IntegratedCodeGen IntegratedCodeGen] One plan is to expand the capability of the pipeline so that it does native code generation too so that existing backends can be discarded.