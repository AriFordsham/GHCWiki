[[_TOC_]]

# GHC 8.12.x Migration Guide


This guide summarises the changes you may need to make to your code to migrate from GHC 8.10 to GHC 8.12. This guide complements the GHC 8.12.x release notes which should be consulted as well.

---

## Compiler changes

### More validity checking in quantified constraints 

GHC now performs more validity checks on quantified constraints, meaning that some code will require enabling language extensions that were not previously required. As one example, this code will compile on previous versions of GHC:

```hs
{-# LANGUAGE QuantifiedConstraints #-}
{-# LANGUAGE TypeFamilies #-}

data family F a

f :: (forall a. Show (F a)) => Int
f = 42
```

However, it will be rejected with GHC 8.12:

```
error:
    • Non type-variable argument in the constraint: Show (F a)
      (Use FlexibleContexts to permit this)
    • In the quantified constraint ‘forall a. Show (F a)’
      In the type signature: f :: (forall a. Show (F a)) => Int
  |
7 | f :: (forall a. Show (F a)) => Int
  |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
```

---

## Library changes

TODO